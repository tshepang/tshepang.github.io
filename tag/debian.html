<!DOCTYPE html>
<html lang="en">
<head>
        <title>Tshepang logs - Debian</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="http://tshepang.net/theme/css/main.css" type="text/css" />
        <link href="http://tshepang.net/" type="application/atom+xml" rel="alternate" title="Tshepang logs ATOM Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://tshepang.net/css/ie.css"/>
                <script src="http://tshepang.net/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://tshepang.net/css/ie6.css"/><![endif]-->

</head>

<body>
        
        

            <header>
                <h1><a href="http://tshepang.net" id="site-title">Tshepang logs </a> : <a href="http://tshepang.net/packaging-my-first-qt-app" id="page-title">packaging my first Qt app</a></h1>
<time datetime="2013-08-27T00:00:00">2013-08-27</time>            </header>

            <article>
                <p>Someone asked me to try get some KDE package into Debian. I estimated
that it would take me around 10 hours to get it into good enough shape
before asking some Debian Developer to upload it for me. Here goes
some rough estimates:</p>
<ul class="simple">
<li><strong>hour 1</strong>: Find documentation on the subject; I got three after a
quick search:<ul>
<li><a class="reference external" href="http://developer.ubuntu.com/packaging/html">Ubuntu Packaging Guide</a></li>
<li><a class="reference external" href="https://wiki.ubuntu.com/PackagingGuideDeprecated/QtApplication">Create Ubuntu DEB package from a Qt application</a> (marked as
deprecated, probably in favor of the official guide above)</li>
<li>Debian Packaging Tutorial (from Debian package,
<tt class="docutils literal"><span class="pre">packaging-tutorial</span></tt>)</li>
</ul>
</li>
<li><strong>hour 2-3</strong>: Reading the Debian Packaging Tutorial which led me to
reading <tt class="docutils literal"><span class="pre">dpkg-source</span></tt> manpage, using <tt class="docutils literal">dh_make</tt> to create a
<tt class="docutils literal">debian/</tt> skeleton, and modifying the contents of that directory.</li>
<li><strong>hour 4-6</strong>: Struggling to kill the lintian complaint,
<tt class="docutils literal"><span class="pre">binary-without-manpage</span></tt>. I went as far as reading the source code
(Perl) that performs the check, but that didn't help much. I could
have saved hours by looking at the <a class="reference external" href="http://www.debian.org/doc/manuals/maint-guide">Debian New Maintainers' Guide</a>
earlier. I also added <tt class="docutils literal">export <span class="pre">LDFLAGS=-Wl,-z,relro</span></tt> to
<tt class="docutils literal">debian/rules</tt> file to kill <tt class="docutils literal"><span class="pre">hardening-no-relro</span></tt> lintian
warning.</li>
<li><strong>hour 7-8</strong>: Determine what dependencies would be needed by building from
a clean chroot (pbuilder). This was with the help of Debian New
Maintainers' Guide, again.</li>
<li><strong>hour 9-10</strong>: Reading <a class="reference external" href="https://wiki.debian.org/Hardening">Debian wiki page on Hardening</a> let me
simplify my packaging further... removing the need to specify
hardening flags explicitly (<a class="reference external" href="https://bitbucket.org/tshepang/ksig/commits/f4c7b60157b79847f918e3d8b24a74e6c5bec929">commit</a>). I also uploaded the package
<a class="reference external" href="http://mentors.debian.net/package/ksig">to mentors.debian.net</a>, with the help of <a class="reference external" href="https://wiki.debian.org/DebianMentorsFaq">DebianMentorsFaq</a>.</li>
</ul>
<p>The resulting package now lives at
<a class="reference external" href="https://bitbucket.org/tshepang/ksig/src">https://bitbucket.org/tshepang/ksig/src</a>. The changes I made, the
actual packaging work, are in <a class="reference external" href="https://bitbucket.org/tshepang/ksig/src/f4c7b60157b79847f918e3d8b24a74e6c5bec929/debian">this directory</a>.</p>
<p>There are <a href="http://tshepang.net/packaging-my-first-qt-app#disqus_thread">comments</a>.</p>            </article>
                <section id="article-list">
                    <h2>All posts</h2>
                    <ol>
        

 
            <li><a href="http://tshepang.net/floss-pipedreams" rel="bookmark" title="Permalink to FLOSS pipedreams">FLOSS pipedreams</a></li>
        

 
            <li><a href="http://tshepang.net/developer-of-note-barry-warsaw" rel="bookmark" title="Permalink to developer of note: Barry Warsaw">developer of note: Barry Warsaw</a></li>
        

 
            <li><a href="http://tshepang.net/project-of-note-debian-installer" rel="bookmark" title="Permalink to project of note: Debian Installer">project of note: Debian Installer</a></li>
        

 
            <li><a href="http://tshepang.net/what-i-do-after-debian-installation" rel="bookmark" title="Permalink to what I do after Debian installation">what I do after Debian installation</a></li>
        

 
            <li><a href="http://tshepang.net/debian-7-will-release-with-wajig-273" rel="bookmark" title="Permalink to Debian 7 will release with wajig 2.7.3">Debian 7 will release with wajig 2.7.3</a></li>
        

 
            <li><a href="http://tshepang.net/wajig-26-and-27" rel="bookmark" title="Permalink to wajig 2.6 and 2.7">wajig 2.6 and 2.7</a></li>
        

 
            <li><a href="http://tshepang.net/developer-of-note-martin-pitt" rel="bookmark" title="Permalink to developer of note: Martin Pitt">developer of note: Martin Pitt</a></li>
        

 
            <li><a href="http://tshepang.net/project-of-note-reprepro" rel="bookmark" title="Permalink to project of note: reprepro">project of note: reprepro</a></li>
        

 
            <li><a href="http://tshepang.net/accessibility-on-debian" rel="bookmark" title="Permalink to accessibility on Debian">accessibility on Debian</a></li>
        

 
            <li><a href="http://tshepang.net/developer-of-note-stefano-zacchiroli" rel="bookmark" title="Permalink to developer of note: Stefano Zacchiroli">developer of note: Stefano Zacchiroli</a></li>
        

 
            <li><a href="http://tshepang.net/wajig-24-released" rel="bookmark" title="Permalink to wajig 2.4 released">wajig 2.4 released</a></li>
        

 
            <li><a href="http://tshepang.net/wajig-23-released" rel="bookmark" title="Permalink to wajig 2.3 released">wajig 2.3 released</a></li>
        

 
            <li><a href="http://tshepang.net/removing-obsolete-packages-from-a-local-debian-repository" rel="bookmark" title="Permalink to removing obsolete packages from a local Debian repository">removing obsolete packages from a local Debian repository</a></li>
        

 
            <li><a href="http://tshepang.net/attachment-can-lead-to-irrational-behaviour" rel="bookmark" title="Permalink to attachment can lead to irrational behaviour">attachment can lead to irrational behaviour</a></li>
        

 
            <li><a href="http://tshepang.net/moving-from-acer-travelmate-to-hp-probook-using-debian" rel="bookmark" title="Permalink to moving from Acer TravelMate to HP Probook, using Debian">moving from Acer TravelMate to HP Probook, using Debian</a></li>
        

 
            <li><a href="http://tshepang.net/thanks-to-the-debian-backports-team" rel="bookmark" title="Permalink to thanks to the Debian backports team">thanks to the Debian backports team</a></li>
        

 
            <li><a href="http://tshepang.net/wajig-22-released" rel="bookmark" title="Permalink to wajig 2.2 released">wajig 2.2 released</a></li>
        

 
            <li><a href="http://tshepang.net/wajig-21-released" rel="bookmark" title="Permalink to wajig 2.1 released">wajig 2.1 released</a></li>
        

 
            <li><a href="http://tshepang.net/from-squeeze-to-unstable-and-back-again" rel="bookmark" title="Permalink to from Squeeze to Unstable, and back again">from Squeeze to Unstable, and back again</a></li>
        

 
            <li><a href="http://tshepang.net/developer-of-note-josselin-mouette" rel="bookmark" title="Permalink to developer of note: Josselin Mouette">developer of note: Josselin Mouette</a></li>
        

 
            <li><a href="http://tshepang.net/comparing-debian-repositories" rel="bookmark" title="Permalink to comparing Debian repositories">comparing Debian repositories</a></li>
        

 
            <li><a href="http://tshepang.net/accessing-oracle-db-using-python-in-debian" rel="bookmark" title="Permalink to accessing Oracle DB using Python, in Debian">accessing Oracle DB using Python, in Debian</a></li>
        

 
            <li><a href="http://tshepang.net/poll-results-of-debian-users-favorite-floss" rel="bookmark" title="Permalink to poll results of debian-user's favorite FLOSS">poll results of debian-user's favorite FLOSS</a></li>
        

 
            <li><a href="http://tshepang.net/blog-of-note-well-see-matt-zimmerman" rel="bookmark" title="Permalink to blog of note: We'll See (Matt Zimmerman)">blog of note: We'll See (Matt Zimmerman)</a></li>
        

 
            <li><a href="http://tshepang.net/developer-of-note-neil-williams" rel="bookmark" title="Permalink to developer of note: Neil Williams">developer of note: Neil Williams</a></li>
        

 
            <li><a href="http://tshepang.net/wajig-2050-released" rel="bookmark" title="Permalink to wajig 2.0.50 released">wajig 2.0.50 released</a></li>
        

 
            <li><a href="http://tshepang.net/my-debian-package-management-setup" rel="bookmark" title="Permalink to my Debian package management setup">my Debian package management setup</a></li>
        

 
            <li><a href="http://tshepang.net/apt-get-vs-aptitude" rel="bookmark" title="Permalink to apt-get vs. aptitude">apt-get vs. aptitude</a></li>
        

 
            <li><a href="http://tshepang.net/developer-of-note-alexander-reichle-schmehl" rel="bookmark" title="Permalink to developer of note: Alexander Reichle-Schmehl">developer of note: Alexander Reichle-Schmehl</a></li>
        

 
            <li><a href="http://tshepang.net/i-love-the-debian-supermarket" rel="bookmark" title="Permalink to I love the Debian supermarket">I love the Debian supermarket</a></li>
        

 
            <li><a href="http://tshepang.net/developer-of-note-michael-biebl" rel="bookmark" title="Permalink to developer of note: Michael Biebl">developer of note: Michael Biebl</a></li>
        

 
            <li><a href="http://tshepang.net/developer-of-note-manoj-srivastava" rel="bookmark" title="Permalink to developer of note: Manoj Srivastava">developer of note: Manoj Srivastava</a></li>
        

 
            <li><a href="http://tshepang.net/reprepro-saved-my-live" rel="bookmark" title="Permalink to reprepro saved my live">reprepro saved my live</a></li>
        

 
            <li><a href="http://tshepang.net/developer-of-note-andreas-barth" rel="bookmark" title="Permalink to developer of note: Andreas Barth">developer of note: Andreas Barth</a></li>
        

 
            <li><a href="http://tshepang.net/games-in-debian" rel="bookmark" title="Permalink to games in Debian">games in Debian</a></li>
        

 
            <li><a href="http://tshepang.net/developer-of-note-steve-langasek" rel="bookmark" title="Permalink to developer of note: Steve Langasek">developer of note: Steve Langasek</a></li>
        

 
            <li><a href="http://tshepang.net/debian-and-linux" rel="bookmark" title="Permalink to Debian and Linux">Debian and Linux</a></li>
        

 
            <li><a href="http://tshepang.net/developer-of-note-aurelien-jarno" rel="bookmark" title="Permalink to developer of note: Aurelien Jarno">developer of note: Aurelien Jarno</a></li>
        

 
            <li><a href="http://tshepang.net/scribes-building-gnome-216-with-debian" rel="bookmark" title="Permalink to Scribes; building GNOME 2.16 with Debian">Scribes; building GNOME 2.16 with Debian</a></li>
        

 
            <li><a href="http://tshepang.net/1st-usage-of-rss-feeds" rel="bookmark" title="Permalink to 1st usage of RSS feeds">1st usage of RSS feeds</a></li>
    </ol>
    </section><!-- #article-list -->

        <footer>
            <nav>
                <ul>
                    <li><a href="http://tshepang.net/about-me.html">about me</a> ::</li>
                    <li><a href="http://tshepang.net/key-posts.html">key posts</a></li>
                    <li>:: <a href="http://tshepang.net/categories.html">Categories</a></li>
                    <li>:: <a href="http://tshepang.net/tags.html">Tags</a></li>
                </ul>
            </nav>
                <p id="theme-credit"><a href="http://mathieu.agopian.info/mnmlist/theme.html">Th√®me mnmlist</a></p>
        </footer>

    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-16685250-3");
    pageTracker._trackPageview();
    } catch(err) {}</script>
<script type="text/javascript">
    var disqus_shortname = 'tshepanglogs';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>