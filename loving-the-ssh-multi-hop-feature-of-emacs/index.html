<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

      <title>Tshepang logs - loving the SSH multi-hop feature of Emacs</title>

      

      
          <script src="https://cdnjs.cloudflare.com/ajax/libs/slideout/1.0.1/slideout.min.js"></script>
          
      

      
          <link rel="stylesheet" href="https://tshepang.github.io/site.css">
          
      

      
      
    </head>

    <body>
        <div class="container">

            <div id="mobile-navbar" class="mobile-navbar">
              <div class="mobile-header-logo">
                <a href="/" class="logo">Tshepang logs</a>
              </div>
              <div class="mobile-navbar-icon icon-out">
                <span></span>
                <span></span>
                <span></span>
              </div>
            </div>

            <nav id="mobile-menu" class="mobile-menu slideout-menu slideout-menu-left">
              <ul class="mobile-menu-list">
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;tshepang.github.io&#x2F;about-me">
                            about
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;tshepang.github.io&#x2F;tags">
                            tags
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;tshepang.github.io&#x2F;categories&#x2F;movies">
                            movies
                        </a>
                    </li>
                
              </ul>
            </nav>

            <header id="header">
                <div class="logo"><a href="https:&#x2F;&#x2F;tshepang.github.io">Tshepang logs</a></div>
                <nav class="menu">
                    <ul>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;tshepang.github.io&#x2F;about-me">
                                    about
                                </a>
                            </li>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;tshepang.github.io&#x2F;tags">
                                    tags
                                </a>
                            </li>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;tshepang.github.io&#x2F;categories&#x2F;movies">
                                    movies
                                </a>
                            </li>
                        
                    </ul>
                    
                    <div class="search-container">
                      <input id="search" type="search" placeholder="ðŸ”Ž  search">
                      <div class="search-results">
                        <div class="search-results__items"></div>
                      </div>
                    </div>
                    
                </nav>
            </header>

            <main>
                <div class="content" id="mobile-panel">
                    



<article class="post">
    
    <header class="post__header">
        <h1 class="post__title">
            <a href="https:&#x2F;&#x2F;tshepang.github.io&#x2F;loving-the-ssh-multi-hop-feature-of-emacs&#x2F;">loving the SSH multi-hop feature of Emacs</a>
        </h1>
        <div class="post__meta">
            <span class="post__time">2014-09-04</span>
            
        </div>
    </header>

    <div class="post-content">
      <p>I'm at home and want to access some system at work. I cannot access
this system directly, so will have to use a VPN or sshfs, but I don't
know how to set VPN up and sshfs feels rather clunky (I first have to
have some directory I'm going to mount the thing, and have to remember
the command line syntax). With Emacs, I run the following command:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>C-x C-f /ssh:work|ssh:10.0.0.107|ssh:10.0.0.148:~/some/files/
</span></code></pre>
<p>What happens there is I ask Emacs to run <code>find-file</code>, which opens its
file manager, <strong>Dired</strong>. It first accesses the server at work, then my
work desktop (<code>10.0.0.107</code>), and then some machine (<code>10.0.0.148</code>) which
I normally access via my work desktop (it got SSH keys). Finally, I'm
then presented with the view of the files in <code>~/some/files/</code> in that
machine, which I can work on (view, edit, save) like any local file. I
was surprised such a feature exists, thinking I'd have to do ugly
things like port forwarding. I do use the single hop a lot (if that's
even the right name):</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>C-x C-f /ssh:work:~/some/files/
</span></code></pre>
<p>Shortcut for that is:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>C-x C-f /work:~/some/files/
</span></code></pre>
<p><strong>sidenotes</strong>:</p>
<ul>
<li>
<p>The shortcut doesn't work with multi-hop</p>
</li>
<li>
<p>I love the fact that Emacs accepts SSH settings, where for example,
instead of specifying the whole <a href="mailto:username@host">username@host</a>, it accepts the
aliases in <code>~/.ssh/config</code>, such that I only have to run:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>ssh work
</span></code></pre>
<p>instead of:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>ssh tshepang@hostname
</span></code></pre>
</li>
</ul>

    </div>

    
    

    <div class="post-footer">
        
            
                <div class="post-tags">
                    
                        <a href="https://tshepang.github.io/tags/emacs/">#Emacs</a>
                    
                </div>
            
            

        

    </div>

    
    
</article>


                </div>
            </main>

            
            
        </div>

      
          <script type="text/javascript" src="https://tshepang.github.io/even.js" ></script>
          
          <script type="text/javascript" src="https://tshepang.github.io/elasticlunr.min.js"></script>
          <script type="text/javascript" src="https://tshepang.github.io/search_index.en.js"></script>
          <script type="text/javascript" src="https://tshepang.github.io/search.js"></script>
          
      
    </body>

</html>
